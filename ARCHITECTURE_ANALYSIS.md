# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –£–ö ¬´–ó–µ–ª—ë–Ω–∞—è –¥–æ–ª–∏–Ω–∞¬ª

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** December 2024  
**–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** v7.2.4  
**–†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞:** 53 —Ñ–∞–π–ª–∞, ~4.15 MB

---

## 1. –û–ë–©–ò–ô –û–ë–ó–û–†

### –¢–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**Progressive Web Application (PWA)** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã –≤ offline-—Ä–µ–∂–∏–º–µ

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫
- **–¢–∏–ø:** Multi-Page Application (MPA) + PWA
- **–Ø–∑—ã–∫:** Vanilla JavaScript (ES6+), TypeScript (—á–∞—Å—Ç–∏—á–Ω–æ –≤ `/src`)
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Web (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è mobile, tablet, desktop)
- **Hosting:** GitHub Pages (`pustem754-hash.github.io/zelenaya-dolina`)

### –¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Primary:** –ú–æ–±–∏–ª—å–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã (iOS Safari, Chrome Android)
- **Secondary:** Desktop –±—Ä–∞—É–∑–µ—Ä—ã
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ES6+, Service Worker, LocalStorage

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–¶–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–ª—ã–º –∫–æ–º–ø–ª–µ–∫—Å–æ–º —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π:
- –ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π —Å—á—ë—Ç—á–∏–∫–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –≤ VSK Desk
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–ª–∞–≥–±–∞—É–º–æ–º PAL Gate (SMS)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–º–µ—Ä –¢–µ–ª–µ–∫–æ–º –õ–µ—Ç–∞–π
- –ü–ª–∞—Ç–µ–∂–∏ –∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏

---

## 2. –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö

### Frontend

#### UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞/—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Vanilla JavaScript** (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- **Material Design 3** –ø—Ä–∏–Ω—Ü–∏–ø—ã (CSS)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–§–∞–π–ª—ã:**
- `public/css/buttons.css` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–æ–ø–æ–∫ MD3
- `public/css/modern-index.css` - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ MD3
- `public/css/components.css` - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### State Management
- **LocalStorage** –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è runtime —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ state manager

**–ö–ª—é—á–∏ localStorage:**
```javascript
- 'zd_isAuthenticated' - —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- 'zd_login_code' - –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞
- 'zd_user_data' - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- 'userData' - legacy –∫–ª—é—á
- 'userPhone' - legacy –∫–ª—é—á
- –ü–æ–∫–∞–∑–∞–Ω–∏—è —Å—á—ë—Ç—á–∏–∫–æ–≤, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 99 –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ localStorage –≤ `index.html` - –Ω–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

#### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
```
public/css/
  ‚îú‚îÄ‚îÄ buttons.css (542 lines)      # –°–∏—Å—Ç–µ–º–∞ –∫–Ω–æ–ø–æ–∫ MD3
  ‚îú‚îÄ‚îÄ modern-index.css (614 lines) # –ì–ª–∞–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
  ‚îú‚îÄ‚îÄ components.css               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  ‚îú‚îÄ‚îÄ mobile.css                   # –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ responsive.css               # Responsive breakpoints
  ‚îú‚îÄ‚îÄ animations.css               # –ê–Ω–∏–º–∞—Ü–∏–∏
  ‚îú‚îÄ‚îÄ navigation.css               # –ù–∞–≤–∏–≥–∞—Ü–∏—è
  ‚îî‚îÄ‚îÄ brand.css                    # –ë—Ä–µ–Ω–¥–∏–Ω–≥
```

**–ü–æ–¥—Ö–æ–¥:** CSS Variables + –∫–ª–∞—Å—Å—ã, –±–µ–∑ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤

#### –†–æ—É—Ç–∏–Ω–≥
- **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥
- **Multi-Page:** –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ = –æ—Ç–¥–µ–ª—å–Ω—ã–π HTML —Ñ–∞–π–ª
- **SPA-like –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –≤–Ω—É—Ç—Ä–∏ `index.html` —á–µ—Ä–µ–∑ `showSection(id)`

**–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
```
/login.html          # –í—Ö–æ–¥ –ø–æ 4-–∑–Ω–∞—á–Ω–æ–º—É –∫–æ–¥—É
/index.html          # –ì–ª–∞–≤–Ω–∞—è (–¥–∞—à–±–æ—Ä–¥)
/payments.html       # –ü–ª–∞—Ç–µ–∂–∏
/meters.html         # –°—á—ë—Ç—á–∏–∫–∏
/cameras.html        # –ö–∞–º–µ—Ä—ã
/barrier.html        # –®–ª–∞–≥–±–∞—É–º
/create-request.html # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
```

---

### Backend (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)

**–°—Ç–∞—Ç—É—Å:** –ß–∏—Å—Ç—ã–π frontend –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞

**Mock –¥–∞–Ω–Ω—ã–µ:**
- –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ `getMockUserByCode()` 
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–æ–≤, –∑–∞—è–≤–æ–∫, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤ (–ø–æ–∫–∞)

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–∏–∑ —Ç–∏–ø–æ–≤):**
```typescript
// src/types/api.ts
- VSK Desk API - –∑–∞—è–≤–∫–∏
- PAL Gate API - —à–ª–∞–≥–±–∞—É–º —á–µ—Ä–µ–∑ SMS
- –¢–µ–ª–µ–∫–æ–º –õ–µ—Ç–∞–π - –∫–∞–º–µ—Ä—ã
- –ï–†–¶ - –≤—ã–≥—Ä—É–∑–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π
- –ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
```

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (LocalStorage –∫–∞–∫ –ø—Å–µ–≤–¥–æ-–ë–î)

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ 4-–∑–Ω–∞—á–Ω–æ–º—É –∫–æ–¥—É
- –î–∞–Ω–Ω—ã–µ –≤ localStorage (–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- –ù–µ—Ç JWT, OAuth, session tokens

**API —Å—Ç–∏–ª—å:** 
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è REST (–∏–∑ —Ç–∏–ø–æ–≤ TypeScript)
- –ü–æ–∫–∞ —Ç–æ–ª—å–∫–æ mock —Ñ—É–Ω–∫—Ü–∏–∏

---

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

#### –°–±–æ—Ä—â–∏–∫
**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** - –Ω–∞—Ç–∏–≤–Ω—ã–π ES6 modules

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ù–µ—Ç tree-shaking
- –ù–µ—Ç bundling
- –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª - –æ—Ç–¥–µ–ª—å–Ω—ã–π HTTP –∑–∞–ø—Ä–æ—Å

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```json
// package.json
"devDependencies": {
  "jest": "^30.2.0"
}
```

**–§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤:**
```
/simple.test.js
/test-simple.js
/test-runner.js
/index.test.js
```

**–°—Ç–∞—Ç—É—Å:** –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ, –Ω–æ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ**

#### –õ–∏–Ω—Ç–∏–Ω–≥/—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
- –ù–µ—Ç ESLint
- –ù–µ—Ç Prettier
- –ù–µ—Ç pre-commit hooks

#### CI/CD
**GitHub Pages** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –¥–µ–ø–ª–æ–µ–º

```bash
# deploy.bat / deploy.ps1
git add .
git commit -m "..."
git push origin main
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- –ù–µ—Ç version bumping

**PWA —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```javascript
// public/sw.js
const CACHE_NAME = 'zelenaya-dolina-v7.2.3-final-fix';
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Ä—Å–∏—è Service Worker –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## 3. –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–∞–ø–æ–∫

```
zelenaya-dolina/
‚îú‚îÄ‚îÄ public/                    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–¥–µ–ø–ª–æ–∏—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ css/                   # 11 CSS —Ñ–∞–π–ª–æ–≤ (~1500 lines)
‚îÇ   ‚îú‚îÄ‚îÄ js/                    # 7 JS –º–æ–¥—É–ª–µ–π (~1000 lines)
‚îÇ   ‚îú‚îÄ‚îÄ *.html                 # 9 HTML —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json          # PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îÇ   ‚îú‚îÄ‚îÄ sw.js                  # Service Worker
‚îÇ   ‚îî‚îÄ‚îÄ icons/                 # 14 –∏–∫–æ–Ω–æ–∫ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ src/                       # TypeScript —Ç–∏–ø—ã (–ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ api/mainScreen.ts
‚îÇ   ‚îú‚îÄ‚îÄ screens/MainScreen.tsx
‚îÇ   ‚îú‚îÄ‚îÄ store/mainScreenStore.ts
‚îÇ   ‚îî‚îÄ‚îÄ types/api.ts           # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ API
‚îÇ
‚îú‚îÄ‚îÄ scripts/                   # Node.js —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ generate-residents.js # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ import-all-residents.cjs
‚îÇ   ‚îî‚îÄ‚îÄ check-excel.cjs
‚îÇ
‚îú‚îÄ‚îÄ package.json               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ netlify.toml               # Netlify –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

1. **–°–º–µ—à–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:**
   - Vanilla JS –≤ `public/`
   - TypeScript –≤ `src/` (–Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
   - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `src/screens/` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ backup —Ñ–∞–π–ª–æ–≤ (`.html.backup`, `.html.bak`)
   - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ –≤ –∫–æ—Ä–Ω–µ –∏ –≤ `public/`
   - –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π `index.html` (index-new, index.fixed)

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏:**
   - –ë–æ–ª—å—à–æ–π monolithic `index.html` (5000+ —Å—Ç—Ä–æ–∫)
   - –í–µ—Å—å JS –≤—Å—Ç—Ä–æ–µ–Ω –≤ HTML (`<script>` —Ç–µ–≥–∏)
   - –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –º–æ–¥—É–ª–∏

---

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### CSS –º–æ–¥—É–ª–∏
```
–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:
‚úì buttons.css       - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–Ω–æ–ø–æ–∫
‚úì modern-index.css  - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚úì components.css    - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚úì mobile.css        - –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
‚úì animations.css    - –∞–Ω–∏–º–∞—Ü–∏–∏
‚úì responsive.css    - breakpoints

–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç CSS modules, –≤–æ–∑–º–æ–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω –∫–ª–∞—Å—Å–æ–≤
```

#### JS –º–æ–¥—É–ª–∏
```
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:
‚úì buttons.js        - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫
‚úì navigation.js     - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
‚úì media-ios-fix.js  - —Ñ–∏–∫—Å—ã –¥–ª—è iOS
‚úì platform.js       - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
‚úì logger.js         - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úì interactions.js   - UI –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

–ü—Ä–æ–±–ª–µ–º–∞: 
- –ù–µ ES6 modules (–Ω–µ—Ç import/export)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ window
- –ù–µ—Ç –∏–∑–æ–ª—è—Ü–∏–∏ scope
```

---

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–∏—á–∞–º/—Å–ª–æ—è–º

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**

–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - **–º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è** —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:

```
–ü–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º (Physical separation):
‚îú‚îÄ‚îÄ login.html          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ index.html          # –î–∞—à–±–æ—Ä–¥ + –≤—Å–µ —Å–µ–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ payments.html       # –ü–ª–∞—Ç–µ–∂–∏
‚îú‚îÄ‚îÄ meters.html         # –°—á—ë—Ç—á–∏–∫–∏
‚îî‚îÄ‚îÄ cameras.html        # –ö–∞–º–µ—Ä—ã

–í–Ω—É—Ç—Ä–∏ index.html (Logical separation):
‚îú‚îÄ‚îÄ <div id="home">     # –ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è
‚îú‚îÄ‚îÄ <div id="meters">   # –°—á—ë—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ <div id="requests"> # –ó–∞—è–≤–∫–∏
‚îî‚îÄ‚îÄ <div id="cameras">  # –ö–∞–º–µ—Ä—ã
```

**–ò–¥–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è):**
```
src/
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ meters/         # –°—á—ë—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ requests/       # –ó–∞—è–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ payments/       # –ü–ª–∞—Ç–µ–∂–∏
‚îÇ   ‚îî‚îÄ‚îÄ cameras/        # –ö–∞–º–µ—Ä—ã
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îú‚îÄ‚îÄ ui/             # –ö–Ω–æ–ø–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ api/            # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ app/                # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```

---

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```yaml
package.json           # Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ)
manifest.json          # PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
netlify.toml           # Netlify –¥–µ–ø–ª–æ–π + –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
_config.yml            # Jekyll (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
jest.config.js         # Jest —Ç–µ—Å—Ç—ã
version.json           # –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

**–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:**
- `.eslintrc` / `eslint.config.js`
- `.prettierrc`
- `tsconfig.json` (TS –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è)
- `webpack.config.js` / `vite.config.js`
- `.env` —Ñ–∞–π–ª—ã

---

## 4. –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–¥—Ö–æ–¥—ã

#### 1. **Vanilla JavaScript MPA (Multi-Page Application)**
```
–û–ø–∏—Å–∞–Ω–∏–µ: –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ = –æ—Ç–¥–µ–ª—å–Ω—ã–π HTML —Ñ–∞–π–ª
–ü–ª—é—Å—ã: –ü—Ä–æ—Å—Ç–æ—Ç–∞, SEO-friendly, –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
–ú–∏–Ω—É—Å—ã: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```

#### 2. **Imperative DOM Manipulation**
```javascript
// –ü—Ä–∏–º–µ—Ä –∏–∑ index.html
function showSection(id) {
    document.querySelectorAll('.section').forEach(s => 
        s.classList.remove('active')
    );
    document.getElementById(id).classList.add('active');
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:**
- –ü—Ä—è–º–∞—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM
- –ù–µ—Ç Virtual DOM
- –ù–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å

#### 3. **Procedural Programming**
```javascript
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function saveAuth(code) { ... }
function logout() { ... }
function showSection(id) { ... }
function generateReceiptPDF() { ... }
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏
- –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–æ
- –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

#### 4. **Event-Driven Architecture (—á–∞—Å—Ç–∏—á–Ω–æ)**
```javascript
document.addEventListener('DOMContentLoaded', () => {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
});

button.addEventListener('click', handleClick);
```

**–ü–ª—é—Å—ã:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å, –¥–µ–∫–∞–ø–ª–∏–Ω–≥
**–ú–∏–Ω—É—Å—ã:** –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ event bus

---

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: **–ú–æ–Ω–æ–ª–∏—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º**

```
–°–ª–æ–∏ (–Ω–µ—è–≤–Ω—ã–µ):

1. Presentation Layer (HTML/CSS):
   - HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ *.html
   - –°—Ç–∏–ª–∏ –≤ css/*.css
   - Inline styles (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω)

2. Business Logic Layer (JavaScript):
   - –í—Å—Ç—Ä–æ–µ–Ω –≤ <script> —Ç–µ–≥–∏ HTML
   - –ß–∞—Å—Ç–∏—á–Ω–æ –≤ js/*.js
   - –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ API —Å–ª–æ—è

3. Data Layer:
   - localStorage –∫–∞–∫ persistence
   - Mock —Ñ—É–Ω–∫—Ü–∏–∏ getMockUserByCode()
   - –ù–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è Presentation ‚Üî Logic ‚Üî Data
- ‚ùå Business logic —Å–º–µ—à–∞–Ω–∞ —Å DOM manipulation
- ‚ùå –ù–µ—Ç Data Access Layer (–≤—Å–µ –ø—Ä—è–º–æ –≤ localStorage)

---

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### –¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å: **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ + DOM Events**

```mermaid
graph TB
    HTML[HTML Pages] -->|onclick| GlobalFunctions[Global Functions]
    GlobalFunctions -->|direct access| LocalStorage[(LocalStorage)]
    GlobalFunctions -->|DOM API| DOM[DOM Manipulation]
    DOM -->|re-render| HTML
    
    EventListeners[Event Listeners] -->|addEventListener| GlobalFunctions
    
    SW[Service Worker] -.->|cache| HTML
    
    style LocalStorage fill:#f9f,stroke:#333
    style GlobalFunctions fill:#ff9,stroke:#333
    style SW fill:#9f9,stroke:#333
```

**–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞:**
1. User interaction ‚Üí `onclick="functionName()"` –≤ HTML
2. Global function –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
3. –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ localStorage
4. –ü—Ä—è–º–∞—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM
5. –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## 5. –ü–û–¢–û–ö –î–ê–ù–ù–´–•

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

```mermaid
graph LR
    LocalStorage[(LocalStorage)] -->|read| App[Application]
    App -->|write| LocalStorage
    
    MockData[Mock Functions] -->|hardcoded| App
    
    User[User Input] -->|forms| App
    
    MediaDevices[Camera/Mic] -->|getUserMedia| App
    
    App -->|display| UI[User Interface]
    
    style LocalStorage fill:#f96,stroke:#333
    style MockData fill:#fc6,stroke:#333
    style MediaDevices fill:#6cf,stroke:#333
```

#### 1. LocalStorage (Primary)
```javascript
–ö–ª—é—á–∏:
- zd_isAuthenticated     # boolean
- zd_login_code          # string (4 digits)
- zd_user_data           # JSON object
- metersHistory          # array
- requestPhotos          # array of base64
- requestVideos          # array of blob URLs
- requestAudio           # array
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ö–µ–º—ã
- –ù–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 5-10 MB

#### 2. Mock –¥–∞–Ω–Ω—ã–µ (Hardcoded)
```javascript
// public/login.html, public/auth.js
function getMockUserByCode(code) {
    const users = {
        '1977': { ... },
        '2364': { ... },
        // ... 8 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    };
    return users[code] || defaultUser;
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ API, –¥–∞–Ω–Ω—ã–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã

#### 3. User Input
```
Forms ‚Üí JavaScript ‚Üí LocalStorage
         ‚Üì
      Validation (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è)
```

#### 4. Media Devices
```javascript
navigator.mediaDevices.getUserMedia({ video: true })
    .then(stream => { ... })
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**
- –§–æ—Ç–æ –∑–∞—è–≤–æ–∫
- –í–∏–¥–µ–æ –∑–∞—è–≤–æ–∫  
- –ê—É–¥–∏–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

---

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**

–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π (—Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –∫–æ–¥—É):

```javascript
// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const code = input.value.trim();
const userData = getMockUserByCode(code);

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ –≤ base64
const reader = new FileReader();
reader.onload = (e) => {
    const base64 = e.target.result;
    photos.push(base64);
};

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
new Date(timestamp).toLocaleDateString('ru-RU');
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–≤
- –ù–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ (–∫—Ä–æ–º–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –≤ `src/types/`)

---

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: **Distributed State (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)**

```
–ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ store!

–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–æ:
1. LocalStorage - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ
2. DOM attributes - UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ
3. Global variables - runtime
4. Closures - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

**–ü—Ä–∏–º–µ—Ä (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω):**
```javascript
// –í —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –∫–æ–¥–∞:
localStorage.setItem('userData', JSON.stringify(data));
localStorage.getItem('userData');
localStorage.removeItem('userData');

// 99 —Ä–∞–∑ –≤ index.html!
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π Store (Redux-like –∏–ª–∏ MobX-like)

---

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

#### 1. Service Worker Cache (HTTP)
```javascript
// sw.js
const CACHE_NAME = 'zelenaya-dolina-v7.2.3-final-fix';

// Network First —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
fetch(event.request)
    .then(response => {
        cache.put(event.request, response.clone());
        return response;
    })
    .catch(() => cache.match(event.request));
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** Network First with Cache Fallback

#### 2. LocalStorage Cache (Application)
```javascript
// –ü—Ä–∏–º–µ—Ä: –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫—ç—à–∏—Ä—É—é—Ç—Å—è
const cached = localStorage.getItem('zd_user_data');
if (cached) {
    return JSON.parse(cached);
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç TTL (Time To Live)
- –ù–µ—Ç –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞
- –ù–µ—Ç stale-while-revalidate

#### 3. –í –ø–∞–º—è—Ç–∏ (Runtime)
```javascript
let mediaRecorder = null;
let audioChunks = [];
// ... global state
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## 6. –ö–ê–ß–ï–°–¢–í–û –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã ‚úÖ

#### 1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å**
```
Vanilla JS –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
‚Üí –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞
‚Üí –ù–µ—Ç vendor lock-in
‚Üí –õ–µ–≥–∫–æ –¥–µ–±–∞–∂–∏—Ç—å
```

#### 2. **PWA –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
```
‚úì Service Worker –¥–ª—è offline
‚úì Manifest.json –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚úì –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
‚úì Touch-friendly UI
```

#### 3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI (v7.2.4)**
```
‚úì Material Design 3
‚úì –°–∏—Å—Ç–µ–º–∞ –∫–Ω–æ–ø–æ–∫ (buttons.css)
‚úì Ripple —ç—Ñ—Ñ–µ–∫—Ç—ã
‚úì Accessibility (WCAG AAA)
‚úì –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (mobile-first)
```

#### 4. **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**
```
–ù–µ—Ç —Ç—è–∂–µ–ª—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
‚Üí –ú–∞–ª–µ–Ω—å–∫–∏–π bundle size
‚Üí –ë—ã—Å—Ç—Ä—ã–π First Contentful Paint
```

---

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞ ‚ùå

#### 1. **–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π index.html (5000+ —Å—Ç—Ä–æ–∫)**
```
–§–∞–π–ª: public/index.html

–ü—Ä–æ–±–ª–µ–º—ã:
- 5000+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- –°–º–µ—à–µ–Ω–∏–µ HTML + CSS + JS
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
```

**–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω:** God Object

#### 2. **–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω**
```javascript
// –°–æ—Ç–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–π –≤ window
window.saveAuth = saveAuth;
window.logout = logout;
window.showSection = showSection;
// ... –∏ —Ç.–¥.

// –†–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω
```

**–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω:** Pollution of Global Namespace

#### 3. **–ü—Ä—è–º—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ localStorage (99 —Ä–∞–∑!)**
```javascript
// –ü–æ –≤—Å–µ–º—É index.html:
localStorage.setItem('key', value);
localStorage.getItem('key');
localStorage.removeItem('key');

// –ù–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏!
```

**–ù–∞—Ä—É—à–µ–Ω–∏–µ:** Single Responsibility Principle (SOLID)

#### 4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**
```javascript
// –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –ª–æ–≥–∏–∫–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö:
const code = localStorage.getItem('zd_login_code');
if (!code) { ... }

// –ö–æ–ø–∏–ø–∞—Å—Ç–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç
new Date(...).toLocaleDateString('ru-RU');

// –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π (inline + CSS)
```

**–ù–∞—Ä—É—à–µ–Ω–∏–µ:** DRY (Don't Repeat Yourself)

#### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏**
```javascript
// –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∏–ø–æ–≤
function saveAuth(code) {
    // code –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º —Ç–∏–ø–æ–º!
    localStorage.setItem(AUTH_CODE_KEY, code);
}

// TypeScript —Ç–∏–ø—ã –µ—Å—Ç—å –≤ src/, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è!
```

#### 6. **Mock –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ API**
```javascript
// –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
const users = {
    '1977': { account_number: '25-0-1977', ... },
    '2364': { account_number: '25-2-2364', ... },
};

// –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### 7. **–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
```javascript
// –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ localStorage
localStorage.setItem('zd_isAuthenticated', 'true');

// –õ—é–±–æ–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ DevTools!
```

**–†–∏—Å–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

#### 8. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏**
```
–ù–µ—Ç ES6 modules:
- import/export –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –í—Å–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ <script src="">
- –ù–µ—Ç tree-shaking
- –ù–µ—Ç code splitting
```

---

### –†–∏—Å–∫–∏ ‚ö†Ô∏è

#### 1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–æ—Å—Ç–µ

```
–ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π:
‚Üí index.html –≤—ã—Ä–∞—Å—Ç–µ—Ç –¥–æ 10000+ —Å—Ç—Ä–æ–∫
‚Üí –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—Å—è
‚Üí localStorage –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—Å—è (limit 5-10 MB)
‚Üí –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

#### 2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ onboarding**

```
–ù–æ–≤–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É:
- –°–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å 5000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –ù–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤

–í—Ä–µ–º—è –Ω–∞ onboarding: 1-2 –Ω–µ–¥–µ–ª–∏
```

#### 3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

```
1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ localStorage
   –†–∏—Å–∫: XSS –∞—Ç–∞–∫–∏, –∫—Ä–∞–∂–∞ —Ç–æ–∫–µ–Ω–æ–≤
   
2. –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ backend
   –†–∏—Å–∫: Injection –∞—Ç–∞–∫–∏ (–∫–æ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è API)
   
3. Inline styles –∏ scripts
   –†–∏—Å–∫: XSS —á–µ—Ä–µ–∑ innerHTML
   
4. –ù–µ—Ç CSRF –∑–∞—â–∏—Ç—ã
   –†–∏—Å–∫: CSRF –∞—Ç–∞–∫–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–æ—Ä–º
```

**Severity:** High (—Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º)

#### 4. **Performance bottlenecks**

```
–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ë–æ–ª—å—à–æ–π HTML (5000 —Å—Ç—Ä–æ–∫)
   ‚Üí –ú–µ–¥–ª–µ–Ω–Ω—ã–π parse time
   
2. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–µ—Ç bundling)
   ‚Üí –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ 3G
   
3. –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å DOM (–Ω–µ—Ç Virtual DOM)
   ‚Üí –ú–µ–¥–ª–µ–Ω–Ω—ã–µ re-renders
   
4. Base64 —Ñ–æ—Ç–æ –≤ localStorage
   ‚Üí –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ storage
```

#### 5. **Vendor lock-in –∏ –º–∏–≥—Ä–∞—Ü–∏—è**

```
–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
‚Üí –°–ª–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ React/Vue
‚Üí –°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å TypeScript
‚Üí –°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å bundler
‚Üí –ö–æ–¥ "–Ω–∞–ø–∏—Å–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞"
```

---

## 7. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –¥–Ω—è)

#### 1. **–°–æ–∑–¥–∞—Ç—å Storage Service (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ localStorage)**

```javascript
// src/services/StorageService.js
class StorageService {
    constructor(prefix = 'zd_') {
        this.prefix = prefix;
    }
    
    set(key, value) {
        try {
            const prefixedKey = `${this.prefix}${key}`;
            const serialized = JSON.stringify({
                value,
                timestamp: Date.now(),
                version: '1.0'
            });
            localStorage.setItem(prefixedKey, serialized);
            return true;
        } catch (error) {
            console.error('Storage error:', error);
            return false;
        }
    }
    
    get(key, defaultValue = null) {
        try {
            const prefixedKey = `${this.prefix}${key}`;
            const item = localStorage.getItem(prefixedKey);
            if (!item) return defaultValue;
            
            const { value } = JSON.parse(item);
            return value;
        } catch (error) {
            console.error('Storage error:', error);
            return defaultValue;
        }
    }
    
    remove(key) {
        const prefixedKey = `${this.prefix}${key}`;
        localStorage.removeItem(prefixedKey);
    }
    
    clear() {
        Object.keys(localStorage)
            .filter(key => key.startsWith(this.prefix))
            .forEach(key => localStorage.removeItem(key));
    }
}

export const storage = new StorageService();
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```javascript
// –ë—ã–ª–æ:
localStorage.setItem('zd_user_data', JSON.stringify(data));

// –°—Ç–∞–ª–æ:
storage.set('user_data', data);
```

**–í—ã–≥–æ–¥–∞:**
- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ Error handling
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å TTL, compression

---

#### 2. **–î–æ–±–∞–≤–∏—Ç—å ESLint**

```bash
npm install --save-dev eslint
npx eslint --init
```

```javascript
// .eslintrc.js
module.exports = {
    env: {
        browser: true,
        es2021: true
    },
    extends: 'eslint:recommended',
    parserOptions: {
        ecmaVersion: 'latest',
        sourceType: 'module'
    },
    rules: {
        'no-unused-vars': 'warn',
        'no-console': 'off',
        'prefer-const': 'error'
    }
};
```

**–í—ã–≥–æ–¥–∞:**
- ‚úÖ –ü–æ–π–º–∞—Ç—å –æ—à–∏–±–∫–∏ –¥–æ –¥–µ–ø–ª–æ—è
- ‚úÖ –ï–¥–∏–Ω—ã–π code style
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∏–∫—Å—ã

---

#### 3. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Service Worker**

```javascript
// sw.js
const VERSION = '7.2.4'; // –ß–∏—Ç–∞—Ç—å –∏–∑ package.json
const CACHE_NAME = `zelenaya-dolina-v${VERSION}`;

// Auto-update –ø—Ä–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
self.addEventListener('install', (event) => {
    console.log(`[SW] Installing version ${VERSION}`);
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
});
```

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
```javascript
// scripts/update-sw-version.js
const fs = require('fs');
const pkg = require('../package.json');

const swPath = './public/sw.js';
let sw = fs.readFileSync(swPath, 'utf8');
sw = sw.replace(
    /const VERSION = '[^']+'/,
    `const VERSION = '${pkg.version}'`
);
fs.writeFileSync(swPath, sw);
```

**package.json:**
```json
{
    "scripts": {
        "predeploy": "node scripts/update-sw-version.js",
        "deploy": "git push origin main"
    }
}
```

---

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

#### 1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ index.html –Ω–∞ –º–æ–¥—É–ª–∏**

**–†–∞–∑–±–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç:**

```
index.html (5000 —Å—Ç—Ä–æ–∫)
‚Üì
–†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞:

/pages/
  index.html (200 —Å—Ç—Ä–æ–∫ - —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

/modules/
  ‚îú‚îÄ‚îÄ auth.js (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
  ‚îú‚îÄ‚îÄ meters.js (—Å—á—ë—Ç—á–∏–∫–∏)
  ‚îú‚îÄ‚îÄ requests.js (–∑–∞—è–≤–∫–∏)
  ‚îú‚îÄ‚îÄ payments.js (–ø–ª–∞—Ç–µ–∂–∏)
  ‚îú‚îÄ‚îÄ cameras.js (–∫–∞–º–µ—Ä—ã)
  ‚îî‚îÄ‚îÄ notifications.js (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

/components/
  ‚îú‚îÄ‚îÄ Card.js
  ‚îú‚îÄ‚îÄ Button.js
  ‚îú‚îÄ‚îÄ Modal.js
  ‚îî‚îÄ‚îÄ Form.js

/services/
  ‚îú‚îÄ‚îÄ StorageService.js
  ‚îú‚îÄ‚îÄ ApiService.js (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
  ‚îî‚îÄ‚îÄ AuthService.js
```

**–ü—Ä–∏–º–µ—Ä –º–æ–¥—É–ª—è:**
```javascript
// modules/meters.js
export class MetersModule {
    constructor(storageService) {
        this.storage = storageService;
        this.history = [];
    }
    
    init() {
        this.loadHistory();
        this.attachEventListeners();
    }
    
    loadHistory() {
        this.history = this.storage.get('meters_history', []);
    }
    
    submitReading(data) {
        // –í–∞–ª–∏–¥–∞—Ü–∏—è
        if (!this.validate(data)) {
            throw new Error('Invalid meter reading');
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        this.history.push({
            ...data,
            timestamp: Date.now()
        });
        this.storage.set('meters_history', this.history);
        
        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        this.emit('reading-submitted', data);
    }
    
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```javascript
// index.html
import { MetersModule } from './modules/meters.js';
import { storage } from './services/StorageService.js';

const meters = new MetersModule(storage);
meters.init();
```

**–í—ã–≥–æ–¥–∞:**
- ‚úÖ –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å < 300 —Å—Ç—Ä–æ–∫
- ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –ß–µ—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

#### 2. **–î–æ–±–∞–≤–∏—Ç—å TypeScript**

```bash
npm install --save-dev typescript @types/node
npx tsc --init
```

```json
// tsconfig.json
{
    "compilerOptions": {
        "target": "ES2020",
        "module": "ESNext",
        "lib": ["ES2020", "DOM"],
        "outDir": "./public/dist",
        "rootDir": "./src",
        "strict": true,
        "esModuleInterop": true,
        "skipLibCheck": true,
        "moduleResolution": "node"
    },
    "include": ["src/**/*"],
    "exclude": ["node_modules"]
}
```

**–ú–∏–≥—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è:**
```
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å auth.js ‚Üí auth.ts
2. –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã
3. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å: tsc
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dist/auth.js –≤ HTML
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π
```

**–í—ã–≥–æ–¥–∞:**
- ‚úÖ Type safety
- ‚úÖ –õ—É—á—à–∏–π IntelliSense
- ‚úÖ –ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤

---

#### 3. **–°–æ–∑–¥–∞—Ç—å API Service (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—ç–∫–µ–Ω–¥—É)**

```typescript
// src/services/ApiService.ts
export class ApiService {
    private baseURL: string;
    
    constructor(baseURL: string) {
        this.baseURL = baseURL;
    }
    
    async get<T>(endpoint: string): Promise<T> {
        const response = await fetch(`${this.baseURL}${endpoint}`, {
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${this.getToken()}`
            }
        });
        
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
        }
        
        return response.json();
    }
    
    async post<T>(endpoint: string, data: any): Promise<T> {
        const response = await fetch(`${this.baseURL}${endpoint}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${this.getToken()}`
            },
            body: JSON.stringify(data)
        });
        
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
        }
        
        return response.json();
    }
    
    private getToken(): string {
        return localStorage.getItem('auth_token') || '';
    }
}

// Singleton instance
export const api = new ApiService(
    process.env.API_URL || 'https://api.zelenaya-dolina.ru'
);
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
// modules/meters.ts
import { api } from '../services/ApiService';

async submitReading(data: MeterReading) {
    try {
        const result = await api.post('/meters/readings', data);
        console.log('Submitted:', result);
    } catch (error) {
        console.error('API error:', error);
    }
}
```

---

#### 4. **–î–æ–±–∞–≤–∏—Ç—å Unit —Ç–µ—Å—Ç—ã**

```javascript
// __tests__/StorageService.test.js
import { StorageService } from '../src/services/StorageService';

describe('StorageService', () => {
    let storage;
    
    beforeEach(() => {
        storage = new StorageService('test_');
        localStorage.clear();
    });
    
    test('should save and retrieve data', () => {
        storage.set('key', 'value');
        expect(storage.get('key')).toBe('value');
    });
    
    test('should return default value if key not exists', () => {
        expect(storage.get('nonexistent', 'default')).toBe('default');
    });
    
    test('should handle JSON objects', () => {
        const obj = { name: 'Test', value: 123 };
        storage.set('obj', obj);
        expect(storage.get('obj')).toEqual(obj);
    });
});
```

**–ó–∞–ø—É—Å–∫:**
```bash
npm test
```

**CI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```yaml
# .github/workflows/test.yml
name: Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '18'
      - run: npm install
      - run: npm test
```

---

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1+ –º–µ—Å—è—Ü)

#### 1. **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

**–í–∞—Ä–∏–∞–Ω—Ç A: React + Vite**

```typescript
// –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫:
React 18           # UI library
TypeScript         # Type safety
Vite              # –°–±–æ—Ä—â–∏–∫ (–±—ã—Å—Ç—Ä—ã–π)
React Router      # –†–æ—É—Ç–∏–Ω–≥
Zustand           # State management (–ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
React Query       # Data fetching
Tailwind CSS      # –°—Ç–∏–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```
src/
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ meters/
‚îÇ   ‚îî‚îÄ‚îÄ requests/
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ router.tsx
‚îÇ   ‚îú‚îÄ‚îÄ store.ts
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx
‚îî‚îÄ‚îÄ main.tsx
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ Virtual DOM
- ‚úÖ –û–≥—Ä–æ–º–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞
- ‚úÖ Type safety
- ‚úÖ Hot reload
- ‚úÖ Code splitting

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç
- ‚ùå –ë–æ–ª—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚ùå –ù—É–∂–µ–Ω –æ–ø—ã—Ç —Å React

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–µ—Ç React

---

**–í–∞—Ä–∏–∞–Ω—Ç B: –£–ª—É—á—à–∏—Ç—å —Ç–µ–∫—É—â–∏–π Vanilla JS**

```
–û—Å—Ç–∞–≤–∏—Ç—å Vanilla JS, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. ES6 Modules        # import/export
2. TypeScript         # –¢–∏–ø—ã
3. Vite              # Bundler (–±–µ–∑ React)
4. Web Components    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –º–æ–¥–µ–ª—å
5. Lit               # –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Card.ts (Web Component)
‚îÇ   ‚îú‚îÄ‚îÄ Button.ts
‚îÇ   ‚îî‚îÄ‚îÄ Modal.ts
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ meters.ts
‚îÇ   ‚îî‚îÄ‚îÄ requests.ts
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ storage.ts
‚îÇ   ‚îî‚îÄ‚îÄ api.ts
‚îî‚îÄ‚îÄ main.ts
```

**–ü—Ä–∏–º–µ—Ä Web Component:**
```typescript
// components/Card.ts
export class CardComponent extends HTMLElement {
    constructor() {
        super();
        this.attachShadow({ mode: 'open' });
    }
    
    connectedCallback() {
        this.render();
    }
    
    render() {
        this.shadowRoot!.innerHTML = `
            <style>
                :host {
                    display: block;
                    padding: 16px;
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                }
            </style>
            <slot></slot>
        `;
    }
}

customElements.define('zd-card', CardComponent);
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```html
<zd-card>
    <h2>–°—á—ë—Ç—á–∏–∫–∏</h2>
    <p>–ü–µ—Ä–µ–¥–∞–π—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–æ 25 —á–∏—Å–ª–∞</p>
</zd-card>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—Å—Ç–∞—ë—Ç—Å—è Vanilla JS
- ‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–µ Web Components
- ‚úÖ Scoped styles
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

---

#### 2. **Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```mermaid
graph TB
    Frontend[Frontend PWA] -->|HTTPS| Gateway[API Gateway]
    Gateway -->|Auth| Auth[Auth Service]
    Gateway -->|REST| Backend[Backend API]
    
    Backend -->|PostgreSQL| DB[(Database)]
    Backend -->|Redis| Cache[(Cache)]
    
    Backend -->|HTTP| VSK[VSK Desk API]
    Backend -->|SMS| Gate[PAL Gate]
    Backend -->|HTTP| Cameras[–¢–µ–ª–µ–∫–æ–º –õ–µ—Ç–∞–π]
    Backend -->|HTTP| ERC[–ï–†–¶ –í—ã–≥—Ä—É–∑–∫–∞]
    
    style Frontend fill:#9f9,stroke:#333
    style Backend fill:#99f,stroke:#333
    style DB fill:#f96,stroke:#333
```

**Backend stack (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è):**
```
Node.js + Express     # API —Å–µ—Ä–≤–µ—Ä
PostgreSQL           # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
Redis                # –ö—ç—à + session store
JWT                  # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
Bull                 # Job queue (–¥–ª—è SMS, —ç–∫—Å–ø–æ—Ä—Ç–∞)
```

**API endpoints:**
```
POST /auth/login          # –í—Ö–æ–¥ –ø–æ –∫–æ–¥—É
POST /auth/logout         # –í—ã—Ö–æ–¥
GET  /auth/me             # –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

GET  /meters/history      # –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π
POST /meters/submit       # –ü–µ—Ä–µ–¥–∞—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏—è
POST /meters/export-erc   # –í—ã–≥—Ä—É–∑–∏—Ç—å –≤ –ï–†–¶

GET  /requests            # –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
POST /requests            # –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É
GET  /requests/:id        # –î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏
PATCH /requests/:id       # –û–±–Ω–æ–≤–∏—Ç—å –∑–∞—è–≤–∫—É

POST /gate/open           # –û—Ç–∫—Ä—ã—Ç—å —à–ª–∞–≥–±–∞—É–º (SMS)
GET  /gate/status         # –°—Ç–∞—Ç—É—Å —à–ª–∞–≥–±–∞—É–º–∞

GET  /cameras             # –°–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä
GET  /cameras/:id/stream  # –°—Ç—Ä–∏–º –∫–∞–º–µ—Ä—ã

GET  /notifications       # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
PATCH /notifications/:id  # –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
```

---

#### 3. **–£–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

**Checklist:**

```
‚úÖ 1. HTTPS everywhere
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   - Redirect HTTP ‚Üí HTTPS
   - HSTS header

‚úÖ 2. Secure Authentication
   - JWT tokens (–Ω–µ localStorage!)
   - HttpOnly cookies –¥–ª—è refresh token
   - CSRF —Ç–æ–∫–µ–Ω—ã
   - Rate limiting –Ω–∞ login

‚úÖ 3. Input Validation
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ frontend
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ backend
   - Sanitize HTML (–ø—Ä–æ—Ç–∏–≤ XSS)
   - Prepared statements (–ø—Ä–æ—Ç–∏–≤ SQL injection)

‚úÖ 4. Content Security Policy
   - –ó–∞–ø—Ä–µ—Ç–∏—Ç—å inline scripts
   - Whitelist –¥–æ–º–µ–Ω–æ–≤
   - –ó–∞–ø—Ä–µ—Ç–∏—Ç—å eval()

‚úÖ 5. Headers
   - X-Frame-Options: DENY
   - X-Content-Type-Options: nosniff
   - X-XSS-Protection: 1; mode=block
   - Referrer-Policy: strict-origin

‚úÖ 6. CORS
   - Whitelist —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –¥–æ–º–µ–Ω
   - Credentials: true (–¥–ª—è cookies)

‚úÖ 7. –°–µ–∫—Ä–µ—Ç—ã
   - .env —Ñ–∞–π–ª—ã (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
   - Environment variables
   - –†–æ—Ç–∞—Ü–∏—è API –∫–ª—é—á–µ–π

‚úÖ 8. Logging & Monitoring
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ auth –ø–æ–ø—ã—Ç–∫–∏
   - –ê–ª–µ—Ä—Ç—ã –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
```

---

## 8. –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø

### –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```mermaid
graph TB
    subgraph Frontend
        Login[Login Page]
        Dashboard[Dashboard]
        Meters[Meters Module]
        Requests[Requests Module]
        Payments[Payments Module]
        Cameras[Cameras Module]
    end
    
    subgraph Services
        Auth[Auth Service]
        Storage[Storage Service]
        API[API Service]
        Media[Media Service]
    end
    
    subgraph Infrastructure
        SW[Service Worker]
        LS[(LocalStorage)]
        Cache[(Cache Storage)]
    end
    
    Login -->|login| Auth
    Dashboard -->|read| Storage
    Meters -->|submit| API
    Requests -->|create| API
    
    Auth -->|save token| Storage
    Storage -->|read/write| LS
    API -->|cache| Cache
    SW -->|cache assets| Cache
    
    style Frontend fill:#9f9,stroke:#333
    style Services fill:#99f,stroke:#333
    style Infrastructure fill:#f96,stroke:#333
```

---

### –°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–µ–∫—É—â–∞—è)

```mermaid
sequenceDiagram
    participant User
    participant Login
    participant LocalStorage
    participant Dashboard
    participant Meters
    
    User->>Login: –í–≤–æ–¥ –∫–æ–¥–∞ 2364
    Login->>Login: getMockUserByCode()
    Login->>LocalStorage: save auth + user data
    Login->>Dashboard: redirect
    
    Dashboard->>LocalStorage: load user data
    Dashboard->>User: –ü–æ–∫–∞–∑–∞—Ç—å –¥–∞—à–±–æ—Ä–¥
    
    User->>Meters: –í–≤–æ–¥ –ø–æ–∫–∞–∑–∞–Ω–∏–π
    Meters->>LocalStorage: save meter reading
    Meters->>User: Success message
```

---

### –°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–±—É–¥—É—â–∞—è —Å API)

```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant API
    participant DB
    participant VSK
    
    User->>Frontend: –í–≤–æ–¥ –∫–æ–¥–∞
    Frontend->>API: POST /auth/login
    API->>DB: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
    DB-->>API: User data
    API-->>Frontend: JWT token
    Frontend->>Frontend: Save token (HttpOnly cookie)
    
    User->>Frontend: –í–≤–æ–¥ –ø–æ–∫–∞–∑–∞–Ω–∏–π
    Frontend->>API: POST /meters/submit
    API->>DB: Save reading
    API->>VSK: Export to VSK Desk
    API-->>Frontend: Success
    Frontend->>User: Confirmation
```

---

### ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î)

```mermaid
erDiagram
    USER ||--o{ APARTMENT : lives_in
    USER ||--o{ METER_READING : submits
    USER ||--o{ REQUEST : creates
    USER ||--o{ NOTIFICATION : receives
    
    APARTMENT ||--o{ METER : has
    APARTMENT ||--|| COMPLEX : belongs_to
    
    REQUEST ||--o{ REQUEST_PHOTO : contains
    REQUEST ||--o{ REQUEST_VIDEO : contains
    
    USER {
        uuid id PK
        string code UK
        string full_name
        string phone
        timestamp created_at
    }
    
    APARTMENT {
        uuid id PK
        uuid complex_id FK
        string building_number
        string apartment_number
        float area
        float balance
    }
    
    COMPLEX {
        uuid id PK
        string name
        string address
    }
    
    METER {
        uuid id PK
        uuid apartment_id FK
        enum type
        string serial_number
    }
    
    METER_READING {
        uuid id PK
        uuid user_id FK
        uuid meter_id FK
        float value
        timestamp submitted_at
    }
    
    REQUEST {
        uuid id PK
        uuid user_id FK
        enum type
        string title
        text description
        enum status
        timestamp created_at
    }
    
    NOTIFICATION {
        uuid id PK
        uuid user_id FK
        enum type
        string title
        text message
        boolean is_read
        timestamp created_at
    }
```

---

## –ò–¢–û–ì–û–í–´–ï –í–´–í–û–î–´

### üìä –û—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | 9/10 | Vanilla JS, –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | 3/10 | –ú–æ–Ω–æ–ª–∏—Ç, —Å–ª–æ–∂–Ω–æ —Ä–∞—Å—Ç–∏ |
| **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** | 4/10 | 5000 —Å—Ç—Ä–æ–∫ –≤ index.html |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | 2/10 | localStorage auth, –Ω–µ—Ç backend |
| **Performance** | 7/10 | –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –Ω–æ –µ—Å—Ç—å bottlenecks |
| **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** | 2/10 | –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤, —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å |
| **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** | 3/10 | –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è |
| **–¢–∏–ø–∏–∑–∞—Ü–∏—è** | 1/10 | TypeScript –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** **4/10** (Functional but needs improvement)

---

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):**
1. –°–æ–∑–¥–∞—Ç—å `StorageService` (1 –¥–µ–Ω—å)
2. –î–æ–±–∞–≤–∏—Ç—å ESLint (2 —á–∞—Å–∞)
3. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Service Worker (2 —á–∞—Å–∞)

**–í–∞–∂–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏):**
1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –º–æ–¥—É–ª–∏ (1 –Ω–µ–¥–µ–ª—è)
2. –î–æ–±–∞–≤–∏—Ç—å TypeScript (3 –¥–Ω—è)
3. API Service + –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—ç–∫–µ–Ω–¥—É (2 –¥–Ω—è)
4. Unit —Ç–µ—Å—Ç—ã (1 –Ω–µ–¥–µ–ª—è)

**–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ (1+ –º–µ—Å—è—Ü):**
1. Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)
2. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Web Components (2 –Ω–µ–¥–µ–ª–∏)
3. –£–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (1 –Ω–µ–¥–µ–ª—è)
4. CI/CD pipeline (3 –¥–Ω—è)

---

### üìà Roadmap

```mermaid
gantt
    title Roadmap —É–ª—É—á—à–µ–Ω–∏–π
    dateFormat YYYY-MM-DD
    section –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ
    StorageService       :a1, 2024-12-16, 1d
    ESLint              :a2, 2024-12-16, 1d
    SW Versioning       :a3, 2024-12-17, 1d
    
    section 1-2 –Ω–µ–¥–µ–ª–∏
    –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ :b1, 2024-12-18, 7d
    TypeScript           :b2, 2024-12-25, 3d
    Unit —Ç–µ—Å—Ç—ã          :b3, 2024-12-28, 7d
    
    section 1+ –º–µ—Å—è—Ü
    Backend              :c1, 2025-01-05, 21d
    Web Components       :c2, 2025-01-26, 14d
    Security             :c3, 2025-02-09, 7d
```

---

### üí° –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Å –Ω—É–ª—è** - –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
2. **–ù–∞—á–∞—Ç—å —Å –º–∞–ª–æ–≥–æ** - `StorageService` –∫–∞–∫ –ø–µ—Ä–≤—ã–π —à–∞–≥
3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã** - TypeScript –¥–ª—è type safety
4. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–∑–±–∏—Ç—å `index.html` –Ω–∞ –º–æ–¥—É–ª–∏
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã
6. **Backend** - –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
7. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

---

**–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤:**  
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω AI Assistant  
–î–∞—Ç–∞: December 2024

