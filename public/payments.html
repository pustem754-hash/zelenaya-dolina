<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–ª–∞—Ç–µ–∂–∏ - –£–ö ¬´–ó–µ–ª—ë–Ω–∞—è –¥–æ–ª–∏–Ω–∞¬ª v6.4.1</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#2E7D32">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/png" sizes="32x32" href="./icon-48x48.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./icon-192x192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./icon-180x180.png">
    
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <link rel="stylesheet" href="css/navigation.css">
    <script src="js/navigation.js" defer></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            min-height: 100vh;
            padding: 20px 20px 100px 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 100;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .total-card {
            background: linear-gradient(135deg, #2E7D32 0%, #27ae60 100%);
            color: white;
            text-align: center;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 20px;
        }
        
        .total-amount {
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .deadline {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .btn-primary {
            background: white;
            color: #2E7D32;
            border: none;
            border-radius: 12px;
            padding: 16px 32px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }
        
        .service-item {
            display: flex;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .service-item:last-child {
            border-bottom: none;
        }
        
        .service-icon {
            font-size: 32px;
            margin-right: 16px;
            width: 48px;
            text-align: center;
        }
        
        .service-info {
            flex: 1;
        }
        
        .service-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }
        
        .service-consumption {
            font-size: 14px;
            color: #666;
        }
        
        .service-amount {
            font-size: 20px;
            font-weight: 600;
            color: #2E7D32;
        }
        
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            padding: 10px 20px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background: #2E7D32;
            color: white;
            border-color: #2E7D32;
        }
        
        .history-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 12px;
        }
        
        .history-date {
            font-size: 14px;
            color: #666;
        }
        
        .history-amount {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        
        .history-status {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .history-status.paid {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .btn-download {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
        }
        
        .toggle-switch {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .toggle-switch input[type="checkbox"] {
            width: 50px;
            height: 28px;
            appearance: none;
            background: #ccc;
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .toggle-switch input[type="checkbox"]:checked {
            background: #2E7D32;
        }
        
        .toggle-switch input[type="checkbox"]::before {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }
        
        .toggle-switch input[type="checkbox"]:checked::before {
            transform: translateX(22px);
        }
        
        .label-text {
            font-size: 16px;
            color: #333;
        }
    </style>
    
    <!-- –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π -->
    <script>
        // ====================================
        // üõ°Ô∏è –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ó–ê–©–ò–¢–ê –û–¢ –û–®–ò–ë–û–ö –†–ê–°–®–ò–†–ï–ù–ò–ô v6.4.7
        // ====================================
        
        (function() {
            'use strict';
            
            // –°—á—ë—Ç—á–∏–∫ –ø–æ–¥–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
            let suppressedErrors = 0;
            
            // –°–ø–∏—Å–æ–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
            const extensionErrorPatterns = [
                'message channel closed',
                'Extension context invalidated',
                'chrome-extension://',
                'moz-extension://',
                'content_script.js',
                'Cannot read properties of undefined',
                'reading \'control\'',
                'reading \'runtime\'',
                'sending a message',
                'Receiving end does not exist',
                'Could not establish connection'
            ];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∞ –æ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
            function isExtensionError(errorMessage, errorStack) {
                if (!errorMessage && !errorStack) return false;
                
                const fullText = (errorMessage || '') + ' ' + (errorStack || '');
                
                return extensionErrorPatterns.some(pattern => 
                    fullText.toLowerCase().includes(pattern.toLowerCase())
                );
            }
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
            const originalErrorHandler = window.onerror;
            window.onerror = function(message, source, lineno, colno, error) {
                if (isExtensionError(message, error ? error.stack : '')) {
                    suppressedErrors++;
                    console.warn(
                        `[Global] üõ°Ô∏è –ü–æ–¥–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è #${suppressedErrors}:`, 
                        message.substring(0, 100)
                    );
                    return true; // –ü–æ–¥–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É
                }
                
                // –ü–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É
                if (originalErrorHandler) {
                    return originalErrorHandler.apply(this, arguments);
                }
                return false;
            };
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ unhandled promise rejections
            window.addEventListener('unhandledrejection', function(event) {
                const reason = event.reason;
                const message = reason ? (reason.message || reason.toString()) : '';
                const stack = reason ? reason.stack : '';
                
                if (isExtensionError(message, stack)) {
                    suppressedErrors++;
                    console.warn(
                        `[Global] üõ°Ô∏è –ü–æ–¥–∞–≤–ª–µ–Ω Promise rejection #${suppressedErrors}:`, 
                        message.substring(0, 100)
                    );
                    event.preventDefault();
                }
            });
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π focus (–≥–¥–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ content_script)
            document.addEventListener('focusin', function(event) {
                // –û–±–µ—Ä–Ω—É—Ç—å –≤ try-catch –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
                try {
                    // –ö–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ–∫—É—Å–∞ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
                } catch (error) {
                    if (isExtensionError(error.message, error.stack)) {
                        suppressedErrors++;
                        console.warn('[Global] üõ°Ô∏è –ü–æ–¥–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ focusin –æ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è');
                    }
                }
            }, true); // true = capture phase (–¥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π)
            
            // –û—Ç—á—ë—Ç –æ –ø–æ–¥–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö (–∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥)
            setInterval(function() {
                if (suppressedErrors > 0) {
                    console.log(`[Global] üìä –ü–æ–¥–∞–≤–ª–µ–Ω–æ –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π: ${suppressedErrors}`);
                }
            }, 10000);
            
            console.log('[Global] üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π v6.4.7 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
            console.log('[Global] üìã –û—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã:', extensionErrorPatterns.length);
        })();
    </script>
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–æ–ª—è—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
            const sensitiveFields = document.querySelectorAll('input[type="tel"], input[type="text"]');
            sensitiveFields.forEach(field => {
                // –î–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
                field.setAttribute('autocomplete', 'off');
                field.setAttribute('data-lpignore', 'true'); // LastPass
                field.setAttribute('data-form-type', 'other'); // 1Password
                field.setAttribute('data-bwignore', 'true'); // Bitwarden
            });
            
            console.log('[Fields] üîí –ó–∞—â–∏—Ç–∞ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫', sensitiveFields.length, '—ç–ª–µ–º–µ–Ω—Ç–∞–º');
        });
    </script>
</head>
<body>
    <button class="back-button" onclick="window.location.href='index.html'">‚Üê</button>
    
    <div class="header">
        <h1>üí≥ –ü–ª–∞—Ç–µ–∂–∏ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</h1>
    </div>
    
    <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞ -->
    <div class="total-card">
        <div class="total-amount">11 087.06 ‚ÇΩ</div>
        <div class="deadline">–°—Ä–æ–∫ –æ–ø–ª–∞—Ç—ã: –¥–æ 28.10.2025</div>
        <button class="btn-primary" onclick="handlePaymentClick()">
            –û–ø–ª–∞—Ç–∏—Ç—å –æ–Ω–ª–∞–π–Ω
        </button>
    </div>
    
    <!-- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É—Å–ª—É–≥–∞–º -->
    <div class="card">
        <h2 style="color: #2E7D32; margin-bottom: 20px;">–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π</h2>
        
        <div class="service-item">
            <div class="service-icon">üíß</div>
            <div class="service-info">
                <div class="service-name">–•–æ–ª–æ–¥–Ω–æ–µ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ</div>
                <div class="service-consumption">15.3 –º¬≥ √ó 45.20 ‚ÇΩ</div>
            </div>
            <div class="service-amount">691.56 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üî•</div>
            <div class="service-info">
                <div class="service-name">–ì–æ—Ä—è—á–µ–µ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ</div>
                <div class="service-consumption">8.7 –º¬≥ √ó 178.40 ‚ÇΩ</div>
            </div>
            <div class="service-amount">1 552.08 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üö∞</div>
            <div class="service-info">
                <div class="service-name">–í–æ–¥–æ–æ—Ç–≤–µ–¥–µ–Ω–∏–µ (–∫–∞–Ω–∞–ª–∏–∑–∞—Ü–∏—è)</div>
                <div class="service-consumption">24.0 –º¬≥ √ó 28.50 ‚ÇΩ</div>
            </div>
            <div class="service-amount">684.00 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">‚ö°</div>
            <div class="service-info">
                <div class="service-name">–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è</div>
                <div class="service-consumption">245 –∫–í—Ç‚ãÖ—á √ó 5.38 ‚ÇΩ</div>
            </div>
            <div class="service-amount">1 318.10 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üí®</div>
            <div class="service-info">
                <div class="service-name">–ì–∞–∑–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ</div>
                <div class="service-consumption">42.5 –º¬≥ √ó 7.85 ‚ÇΩ</div>
            </div>
            <div class="service-amount">333.63 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üî•</div>
            <div class="service-info">
                <div class="service-name">–û—Ç–æ–ø–ª–µ–Ω–∏–µ</div>
                <div class="service-consumption">65 –º¬≤ √ó 45.80 ‚ÇΩ</div>
            </div>
            <div class="service-amount">2 977.00 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üè¢</div>
            <div class="service-info">
                <div class="service-name">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∂–∏–ª—å—è</div>
                <div class="service-consumption">65 –º¬≤ √ó 28.50 ‚ÇΩ</div>
            </div>
            <div class="service-amount">1 852.50 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üóëÔ∏è</div>
            <div class="service-info">
                <div class="service-name">–í—ã–≤–æ–∑ –º—É—Å–æ—Ä–∞</div>
                <div class="service-consumption">3 —á–µ–ª. √ó 120.00 ‚ÇΩ</div>
            </div>
            <div class="service-amount">360.00 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üèóÔ∏è</div>
            <div class="service-info">
                <div class="service-name">–ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç</div>
                <div class="service-consumption">65 –º¬≤ √ó 12.50 ‚ÇΩ</div>
            </div>
            <div class="service-amount">812.50 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üìû</div>
            <div class="service-info">
                <div class="service-name">–î–æ–º–æ—Ñ–æ–Ω</div>
                <div class="service-consumption">1 –∫–≤–∞—Ä—Ç–∏—Ä–∞ √ó 50.00 ‚ÇΩ</div>
            </div>
            <div class="service-amount">50.00 ‚ÇΩ</div>
        </div>
    </div>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–∞–≤–µ –ø–ª–∞—Ç–µ–∂–∞ -->
    <div class="card" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);">
        <h3 style="color: #1976d2; margin-bottom: 16px;">‚ÑπÔ∏è –û —Å–æ—Å—Ç–∞–≤–µ –ø–ª–∞—Ç–µ–∂–∞</h3>
        <div style="font-size: 14px; line-height: 1.6; color: #333;">
            <p style="margin-bottom: 12px;">
                <strong>–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏:</strong> –≤–æ–¥–∞, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ, –≥–∞–∑, –æ—Ç–æ–ø–ª–µ–Ω–∏–µ ‚Äî 
                —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º —Å—á—ë—Ç—á–∏–∫–æ–≤ –∏–ª–∏ –Ω–æ—Ä–º–∞—Ç–∏–≤–∞–º.
            </p>
            <p style="margin-bottom: 12px;">
                <strong>–ñ–∏–ª–∏—â–Ω—ã–µ —É—Å–ª—É–≥–∏:</strong> —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–º–∞, —Ä–µ–º–æ–Ω—Ç, –≤—ã–≤–æ–∑ –º—É—Å–æ—Ä–∞ ‚Äî 
                —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –ø–ª–æ—â–∞–¥–∏ –∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∂–∏–ª—å—Ü–æ–≤.
            </p>
            <p style="margin-bottom: 12px;">
                <strong>–û–±—â–µ–¥–æ–º–æ–≤—ã–µ –Ω—É–∂–¥—ã (–û–î–ù):</strong> —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –æ—Å–≤–µ—â–µ–Ω–∏–µ –ø–æ–¥—ä–µ–∑–¥–æ–≤, 
                –ª–∏—Ñ—Ç—ã, –ø–æ–ª–∏–≤ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∂–∏–ª—å—Ü–∞–º–∏.
            </p>
            <p style="margin-bottom: 0;">
                <strong>–ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç:</strong> –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –Ω–∞ —Ä–µ–º–æ–Ω—Ç 
                –∫—Ä—ã—à–∏, —Ñ–∞—Å–∞–¥–∞, –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –¥–æ–º–∞.
            </p>
        </div>
    </div>
    
    <!-- –û–±—â–µ–¥–æ–º–æ–≤—ã–µ –Ω—É–∂–¥—ã (–û–î–ù) -->
    <div class="card">
        <h2 style="color: #2E7D32; margin-bottom: 20px;">üìä –û–±—â–µ–¥–æ–º–æ–≤—ã–µ –Ω—É–∂–¥—ã (–û–î–ù)</h2>
        
        <div class="service-item">
            <div class="service-icon">üíß</div>
            <div class="service-info">
                <div class="service-name">–•–í–° –Ω–∞ –û–î–ù</div>
                <div class="service-consumption">1.2 –º¬≥ √ó 45.20 ‚ÇΩ</div>
            </div>
            <div class="service-amount">54.24 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üî•</div>
            <div class="service-info">
                <div class="service-name">–ì–í–° –Ω–∞ –û–î–ù</div>
                <div class="service-consumption">0.5 –º¬≥ √ó 178.40 ‚ÇΩ</div>
            </div>
            <div class="service-amount">89.20 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">‚ö°</div>
            <div class="service-info">
                <div class="service-name">–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è –Ω–∞ –û–î–ù</div>
                <div class="service-consumption">12.5 –∫–í—Ç‚ãÖ—á √ó 5.38 ‚ÇΩ</div>
            </div>
            <div class="service-amount">67.25 ‚ÇΩ</div>
        </div>
        
        <div class="service-item">
            <div class="service-icon">üî•</div>
            <div class="service-info">
                <div class="service-name">–û—Ç–æ–ø–ª–µ–Ω–∏–µ –Ω–∞ –û–î–ù</div>
                <div class="service-consumption">0.1 –ì–∫–∞–ª √ó 2450.00 ‚ÇΩ</div>
            </div>
            <div class="service-amount">245.00 ‚ÇΩ</div>
        </div>
        
        <div style="text-align: right; padding: 16px; background: #f8f9fa; border-radius: 12px; margin-top: 12px;">
            <strong style="font-size: 18px; color: #2E7D32;">–ò—Ç–æ–≥–æ –û–î–ù: 455.69 ‚ÇΩ</strong>
        </div>
    </div>
    
    <!-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º –º–µ—Å—è—Ü–µ–º -->
    <div class="card">
        <h2 style="color: #2E7D32; margin-bottom: 20px;">üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º –º–µ—Å—è—Ü–µ–º</h2>
        
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: #f8f9fa; border-radius: 12px; margin-bottom: 16px;">
            <div>
                <div style="font-size: 14px; color: #666; margin-bottom: 4px;">–°–µ–Ω—Ç—è–±—Ä—å 2025</div>
                <div style="font-size: 24px; font-weight: 600; color: #333;">10 845.30 ‚ÇΩ</div>
            </div>
            <div style="font-size: 32px; color: #999;">‚Üí</div>
            <div>
                <div style="font-size: 14px; color: #666; margin-bottom: 4px;">–û–∫—Ç—è–±—Ä—å 2025</div>
                <div style="font-size: 24px; font-weight: 600; color: #2E7D32;">11 087.06 ‚ÇΩ</div>
            </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #fff3e0; border-radius: 8px;">
            <span style="font-size: 20px;">üìà</span>
            <span style="font-size: 14px; color: #e65100;">
                –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ <strong>241.76 ‚ÇΩ</strong> (+2.2%)
            </span>
        </div>
        
        <div style="margin-top: 16px; font-size: 13px; color: #666;">
            <strong>–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è:</strong>
            <ul style="margin: 8px 0 0 20px; line-height: 1.8;">
                <li>–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ (+35 –∫–í—Ç‚ãÖ—á)</li>
                <li>–ù–∞—á–∞–ª–æ –æ—Ç–æ–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–µ–∑–æ–Ω–∞</li>
                <li>–†–æ—Å—Ç —Ç–∞—Ä–∏—Ñ–æ–≤ –Ω–∞ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ (+2%)</li>
            </ul>
        </div>
    </div>
    
    <!-- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π -->
    <div class="card">
        <h2 style="color: #2E7D32; margin-bottom: 20px;">–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π</h2>
        
        <div class="filter-buttons">
            <button class="filter-btn active" data-period="all" onclick="filterPayments('all')">–í—Å–µ</button>
            <button class="filter-btn" data-period="6m" onclick="filterPayments('6m')">6 –º–µ—Å—è—Ü–µ–≤</button>
            <button class="filter-btn" data-period="1y" onclick="filterPayments('1y')">–ì–æ–¥</button>
        </div>
        
        <div class="history-list" id="paymentHistoryList">
            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>
    
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π -->
    <div class="card">
        <h2 style="color: #2E7D32; margin-bottom: 20px;">‚öôÔ∏è –ê–≤—Ç–æ–ø–ª–∞—Ç—ë–∂</h2>
        <label class="toggle-switch">
            <input type="checkbox" id="autopayToggle" onchange="toggleAutopay()">
            <span class="label-text">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–ª–∞—Ç–∞ –¥–æ 25 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞</span>
        </label>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã -->
    <div id="payment-method-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closePaymentMethodModal()">&times;</button>
            
            <h2 style="margin-bottom: 20px; text-align: center;">üí≥ –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h2>
            
            <div class="payment-amount-info">
                <p style="text-align: center; font-size: 24px; font-weight: bold; color: #27ae60; margin-bottom: 30px;">
                    11 087.06 ‚ÇΩ
                </p>
            </div>
            
            <!-- –ë–ê–ù–ö–û–í–°–ö–ò–ï –ö–ê–†–¢–´ -->
            <div class="payment-section">
                <h3>üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã</h3>
                
                <button class="payment-method-btn" onclick="payWithBank('sberbank')">
                    <span style="font-size: 24px;">üü¢</span>
                    <span>–°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω</span>
                    <span class="arrow">‚Üí</span>
                </button>
                
                <button class="payment-method-btn" onclick="payWithBank('tinkoff')">
                    <span style="font-size: 24px;">üü°</span>
                    <span>–¢-–ë–∞–Ω–∫ (–¢–∏–Ω—å–∫–æ—Ñ—Ñ)</span>
                    <span class="arrow">‚Üí</span>
                </button>
                
                <button class="payment-method-btn" onclick="payWithBank('vtb')">
                    <span style="font-size: 24px;">üîµ</span>
                    <span>–í–¢–ë –û–Ω–ª–∞–π–Ω</span>
                    <span class="arrow">‚Üí</span>
                </button>
                
                <button class="payment-method-btn" onclick="payWithBank('alfabank')">
                    <span style="font-size: 24px;">üî¥</span>
                    <span>–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫</span>
                    <span class="arrow">‚Üí</span>
                </button>
                
                <button class="payment-method-btn" onclick="payWithBank('raiffeisen')">
                    <span style="font-size: 24px;">üü°</span>
                    <span>–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω –ë–∞–Ω–∫</span>
                    <span class="arrow">‚Üí</span>
                </button>
                
                <button class="payment-method-btn" onclick="payWithBank('gazprombank')">
                    <span style="font-size: 24px;">üè¶</span>
                    <span>–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫</span>
                    <span class="arrow">‚Üí</span>
                </button>
            </div>
            
            <!-- –°–ë–ü -->
            <div class="payment-section">
                <h3>‚ö° –ë—ã—Å—Ç—Ä–∞—è –æ–ø–ª–∞—Ç–∞</h3>
                
                <button class="payment-method-btn sbp-btn" onclick="openSbpModal(); closePaymentMethodModal();">
                    <span style="font-size: 24px;">‚ö°</span>
                    <span>–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π (–°–ë–ü)</span>
                    <span class="arrow">‚Üí</span>
                </button>
            </div>
            
            <!-- –ë–ê–ù–ö–û–í–°–ö–ò–ï –ö–ê–†–¢–´ (–ü–†–Ø–ú–û–ô –í–í–û–î) -->
            <div class="payment-section">
                <button class="payment-method-btn" onclick="payWithCard()">
                    <span style="font-size: 24px;">üí≥</span>
                    <span>–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π (Visa, MasterCard, –ú–∏—Ä)</span>
                    <span class="arrow">‚Üí</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –°–ü–ë -->
    <div id="sbp-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeSbpModal()">&times;</button>
            
            <h2 style="margin-bottom: 20px; text-align: center;">‚ö° –°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π (–°–ë–ü)</h2>
            
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="font-size: 32px; margin-bottom: 10px;">üì±</div>
                <p style="font-size: 18px; font-weight: bold; color: #27ae60; margin-bottom: 10px;">
                    –°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: 11 087.06 ‚ÇΩ
                </p>
                <p style="color: #666; margin-bottom: 20px;">
                    –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∞—à–µ–≥–æ –±–∞–Ω–∫–∞
                </p>
            </div>
            
            <div style="text-align: center; padding: 30px; background: #f8f9fa; border-radius: 12px; margin-bottom: 20px;">
                <div style="width: 200px; height: 200px; margin: 0 auto; background: #333; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;">
                    QR-–∫–æ–¥ –¥–ª—è –æ–ø–ª–∞—Ç—ã<br>(–≤ production: —Ä–µ–∞–ª—å–Ω—ã–π QR)
                </div>
            </div>
            
            <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <p style="font-size: 14px; color: #1976d2; margin-bottom: 8px;">
                    <strong>–ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –°–ë–ü:</strong>
                </p>
                <ol style="font-size: 14px; color: #333; margin-left: 20px; line-height: 1.8;">
                    <li>–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –±–∞–Ω–∫–∞</li>
                    <li>–í—ã–±–µ—Ä–∏—Ç–µ "–û–ø–ª–∞—Ç–∞ –ø–æ QR-–∫–æ–¥—É"</li>
                    <li>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω–µ</li>
                    <li>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–ª–∞—Ç—ë–∂</li>
                </ol>
            </div>
            
            <button class="btn-primary" onclick="closeSbpModal()" style="width: 100%;">
                –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
    </div>
    
    <script src="auth.js"></script>
    <script>
        // –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', () => {
            console.log('[Page] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...');
            
            if (!requireAuth()) {
                console.log('[Page] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ login');
                return;
            }
            
            console.log('[Page] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã...');
            initializePage();
        });
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        const paymentHistory = [
            { date: '2025-09-25', amount: 9845.30, status: 'paid', receipt: 'receipt-sep-2025.pdf' },
            { date: '2025-08-27', amount: 9123.15, status: 'paid', receipt: 'receipt-aug-2025.pdf' },
            { date: '2025-07-24', amount: 10205.80, status: 'paid', receipt: 'receipt-jul-2025.pdf' },
            { date: '2025-06-28', amount: 8967.40, status: 'paid', receipt: 'receipt-jun-2025.pdf' },
            { date: '2025-05-26', amount: 9534.20, status: 'paid', receipt: 'receipt-may-2025.pdf' }
        ];
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            const months = ['—è–Ω–≤–∞—Ä—è', '—Ñ–µ–≤—Ä–∞–ª—è', '–º–∞—Ä—Ç–∞', '–∞–ø—Ä–µ–ª—è', '–º–∞—è', '–∏—é–Ω—è', '–∏—é–ª—è', '–∞–≤–≥—É—Å—Ç–∞', '—Å–µ–Ω—Ç—è–±—Ä—è', '–æ–∫—Ç—è–±—Ä—è', '–Ω–æ—è–±—Ä—è', '–¥–µ–∫–∞–±—Ä—è'];
            return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
        }
        
        function renderPaymentHistory(period = 'all') {
            const list = document.getElementById('paymentHistoryList');
            list.innerHTML = '';
            
            let filtered = paymentHistory;
            
            if (period === '6m') {
                const sixMonthsAgo = new Date();
                sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);
                filtered = paymentHistory.filter(p => new Date(p.date) >= sixMonthsAgo);
            } else if (period === '1y') {
                const oneYearAgo = new Date();
                oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);
                filtered = paymentHistory.filter(p => new Date(p.date) >= oneYearAgo);
            }
            
            if (filtered.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">–ù–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥</p>';
                return;
            }
            
            filtered.forEach(payment => {
                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `
                    <div>
                        <div class="history-date">${formatDate(payment.date)}</div>
                        <div class="history-amount">${payment.amount.toFixed(2)} ‚ÇΩ</div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="history-status paid">‚úì –û–ø–ª–∞—á–µ–Ω–æ</div>
                        <button class="btn-download" onclick="downloadReceipt('${payment.receipt}')">
                            üìÑ –ö–≤–∏—Ç–∞–Ω—Ü–∏—è
                        </button>
                    </div>
                `;
                list.appendChild(item);
            });
        }
        
        function filterPayments(period) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderPaymentHistory(period);
        }
        
        function downloadReceipt(filename) {
            alert(`–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏: ${filename}\n(–í production: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ PDF)`);
        }
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
        function openPaymentMethodModal() {
            const modal = document.getElementById('payment-method-modal');
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
        function closePaymentMethodModal() {
            const modal = document.getElementById('payment-method-modal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –°–ü–ë
        function openSbpModal() {
            const modal = document.getElementById('sbp-modal');
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –°–ü–ë
        function closeSbpModal() {
            const modal = document.getElementById('sbp-modal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
        
        // –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –±–∞–Ω–∫
        function payWithBank(bank) {
            closePaymentMethodModal();
            
            const bankNames = {
                'sberbank': '–°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω',
                'tinkoff': '–¢-–ë–∞–Ω–∫',
                'vtb': '–í–¢–ë –û–Ω–ª–∞–π–Ω',
                'alfabank': '–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫',
                'raiffeisen': '–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω –ë–∞–Ω–∫',
                'gazprombank': '–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫'
            };
            
            alert(`üè¶ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã ${bankNames[bank] || bank}...\n\nüí° –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º —à–ª—é–∑–æ–º –±–∞–Ω–∫–∞.`);
            
            // TODO: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API
            // window.location.href = `/api/payment/redirect?bank=${bank}&amount=11087.06`;
        }
        
        // –û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π –Ω–∞–ø—Ä—è–º—É—é
        function payWithCard() {
            closePaymentMethodModal();
            alert('üí≥ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç—ã...\n\nüí° –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –∫–∞—Ä—Ç—ã —á–µ—Ä–µ–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –ø–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ÆKassa, CloudPayments).');
            
            // TODO: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º —à–ª—é–∑–æ–º
            // window.location.href = '/payment/card?amount=11087.06';
        }
        
        function handlePaymentClick() {
            openPaymentMethodModal();
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞
        window.addEventListener('click', function(event) {
            const paymentModal = document.getElementById('payment-method-modal');
            const sbpModal = document.getElementById('sbp-modal');
            
            if (event.target === paymentModal) {
                closePaymentMethodModal();
            }
            
            if (event.target === sbpModal) {
                closeSbpModal();
            }
        });
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∞–≤–∏—à–µ ESC
        window.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closePaymentMethodModal();
                closeSbpModal();
            }
        });
        
        function toggleAutopay() {
            const toggle = document.getElementById('autopayToggle');
            if (toggle.checked) {
                alert('–ê–≤—Ç–æ–ø–ª–∞—Ç—ë–∂ –≤–∫–ª—é—á—ë–Ω. –ü–ª–∞—Ç–µ–∂–∏ –±—É–¥—É—Ç —Å–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ 25 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞.');
            } else {
                alert('–ê–≤—Ç–æ–ø–ª–∞—Ç—ë–∂ –æ—Ç–∫–ª—é—á—ë–Ω.');
            }
            localStorage.setItem('autopayEnabled', toggle.checked);
        }
        
        function initializePage() {
            const session = getSession();
            console.log('[Page] –°–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', session);
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∞
            const autopayEnabled = localStorage.getItem('autopayEnabled') === 'true';
            document.getElementById('autopayToggle').checked = autopayEnabled;
            renderPaymentHistory('all');
        }
    </script>
</body>
</html>

